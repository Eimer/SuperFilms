(this["webpackJsonpfilm-list"]=this["webpackJsonpfilm-list"]||[]).push([[0],{16:function(e,t,s){},17:function(e,t,s){},21:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s(1),c=s(9),i=s.n(c),r=(s(16),s(3)),l=s(4),o=s(6),h=s(5),u=(s(17),function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("header",{children:Object(a.jsx)("span",{children:"SUPER FILM"})})}}]),s}(n.Component)),j=s(10),b=s(23);function d(e){var t=Object(n.useState)(new Date),s=Object(j.a)(t,2),c=s[0];s[1];return Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{onChange:function(t){e.handleChangePage(2,function(e){var t="",s={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()};return s.month<10&&(s.month="0"+s.month),s.date<10&&(s.date="0"+s.date),t+(s.year+"-")+s.month+"-"+s.date}(t))},value:c})})}function m(){return Object(a.jsxs)("div",{className:"middle-block",children:[Object(a.jsx)("img",{src:"./assets/images/tv.svg",alt:"Error_img"}),Object(a.jsx)("br",{}),Object(a.jsxs)("span",{children:["\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u043e\u0432,",Object(a.jsx)("br",{}),"\u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435",Object(a.jsx)("br",{}),"\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043c\u0435\u0441\u044f\u0446 \u0438 \u0434\u0435\u043d\u044c"]})]})}var p=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"start-page",children:[Object(a.jsx)(u,{}),Object(a.jsx)(m,{}),Object(a.jsx)(d,{handleChangePage:this.props.handleChangePage})]})}}]),s}(n.Component),O=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).getFormattedDate=function(){var t="";switch(t+=e.props.chosenDate.substr(8,2),t+=" ",e.props.chosenDate.substr(5,2)){case"01":t+="\u042f\u043d\u0432\u0430\u0440\u044f";break;case"02":t+="\u0424\u0435\u0432\u0440\u0430\u043b\u044f";break;case"03":t+="\u041c\u0430\u0440\u0442\u0430";break;case"04":t+="\u0410\u043f\u0440\u0435\u043b\u044f";break;case"05":t+="\u041c\u0430\u044f";break;case"06":t+="\u0418\u044e\u043d\u044f";break;case"07":t+="\u0418\u044e\u043b\u044f";break;case"08":t+="\u0410\u0432\u0433\u0443\u0441\u0442\u0430";break;case"09":t+="\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f";break;case"10":t+="\u041e\u043a\u0442\u044f\u0431\u0440\u044f";break;case"11":t+="\u041d\u043e\u044f\u0431\u0440\u044f";break;case"12":t+="\u0414\u0435\u043a\u0430\u0431\u0440\u044f"}return t+=" ",t+=e.props.chosenDate.substr(0,4)},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"upper-block",children:Object(a.jsx)("span",{className:"date-value",children:this.getFormattedDate()})})}}]),s}(n.Component),g=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e="";return e=this.props.image?this.props.image.medium:this.props.altImage,Object(a.jsxs)("div",{className:"film-item",children:[Object(a.jsx)("div",{className:"img-block",children:Object(a.jsx)("img",{src:e,alt:""})}),Object(a.jsxs)("div",{className:"film-info",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:this.props.name}),Object(a.jsx)("span",{children:this.props.premiered.substr(0,4)})]}),Object(a.jsxs)("button",{className:"film-desc",children:[Object(a.jsxs)("span",{children:["C\u0435\u0437\u043e\u043d: ",this.props.season]}),Object(a.jsxs)("span",{children:["\u042d\u043f\u0438\u0437\u043e\u0434: ",this.props.episode]})]})]})]})}}]),s}(n.Component),f=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).changeQuantityFilms=function(){e.props.changeQuantityFilms()},e.buttonText="",e}return Object(l.a)(s,[{key:"render",value:function(){return this.props.fullList?this.buttonText="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435":this.buttonText="\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 +"+this.props.lenthListFilms,Object(a.jsx)("button",{className:"show-more",onClick:this.changeQuantityFilms,children:this.buttonText})}}]),s}(n.Component),v=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).createFilmsList=function(){var e=n.props.filmsList.map((function(e,t){return Object(a.jsx)(g,{image:e._embedded.show.image,altImage:"assets/images/error-img.svg",name:e._embedded.show.name,premiered:e._embedded.show.premiered,season:e.season,episode:e.number},t)}));return n.props.fullList?e:(n.lengthListFilms=e.length-5,e.slice(0,5))},n.lengthListFilms=0,n}return Object(l.a)(s,[{key:"render",value:function(){window.scrollTo(0,0);var e=this.createFilmsList();return Object(a.jsxs)("div",{className:"films-block",children:[e,Object(a.jsx)(f,{changeQuantityFilms:this.props.changeQuantityFilms,lenthListFilms:this.lengthListFilms,fullList:this.props.fullList})]})}}]),s}(n.Component),x=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).backToFirstPage=function(){e.props.handleChangePage(1)},e.changeQuantityFilms=function(){e.state.fullList?e.setState({fullList:!1}):e.setState({fullList:!0})},e.getNeededFilms=function(t){var s=[];return t.map((function(t){t.airdate===e.props.date&&s.push(t)})),s},e.state={fullList:!1},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this.getNeededFilms(this.props.data);return e.length>0?Object(a.jsxs)("div",{className:"content-page",children:[Object(a.jsx)(u,{}),Object(a.jsx)(O,{chosenDate:this.props.date}),Object(a.jsx)(v,{data:this.props.data,filmsList:e,allFilms:this.props.allFilms,changeQuantityFilms:this.changeQuantityFilms,fullList:this.state.fullList}),Object(a.jsx)("button",{className:"back-btn",onClick:this.backToFirstPage,children:"\u2039"})]}):Object(a.jsxs)("div",{className:"content-page",children:[Object(a.jsx)(u,{}),Object(a.jsx)(O,{chosenDate:this.props.date}),Object(a.jsxs)("div",{className:"no-films",children:[Object(a.jsx)("img",{src:"./assets/images/tv.svg",alt:"Error_img"}),Object(a.jsxs)("span",{children:["\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u043d\u0435\u0442 \u043f\u0440\u0435\u043c\u044c\u0435\u0440",Object(a.jsx)("br",{}),"\u043d\u0430 \u043d\u0430 \u044d\u0442\u0443 \u0434\u0430\u0442\u0443"]})]}),Object(a.jsx)("button",{className:"back-btn",onClick:this.backToFirstPage,children:"\u2039"})]})}}]),s}(n.Component),k=function(e){Object(o.a)(s,e);var t=Object(h.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).handleChangePage=function(t,s){e.setState({pageIndex:t,currentDate:s})},e.state={pageIndex:1,currentDate:"",allFilms:!1},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://api.tvmaze.com/schedule/full").then((function(t){t.json().then((function(t){e.setState({data:t,pageIndex:1})}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return 1===this.state.pageIndex?Object(a.jsx)(p,{handleChangePage:this.handleChangePage}):Object(a.jsx)(x,{data:this.state.data,date:this.state.currentDate,allFilms:this.state.allFilms,handleChangePage:this.handleChangePage})}}]),s}(n.Component);s(20);i.a.render(Object(a.jsx)(k,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.fe155844.chunk.js.map